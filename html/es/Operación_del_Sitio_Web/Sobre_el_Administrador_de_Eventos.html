<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="description" content="A free and open-source book on ZF3 for beginners">
<meta name="keywords" content="zend framework,book,beginner,free">
<meta name="author" content="2019 by Oleg Krivtsov">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="../../favicon.ico" rel="shortcut icon" type="image/ico" />
<link href="../../assets/css/style.css" type="text/css" rel="stylesheet" />
<title>Sobre el Administrador de Eventos &ndash; Using Zend Framework 3</title>
</head>
<body>
<header>
    <div class="header">
        <div class="header-body">
            <div class="book-title">
                <a href="../../index.html">Using Zend Framework 3</a>
            </div>
            <div class="book-subtitle">
                A free and open-source book on ZF3 for beginners            </div>
            <nav>
                <div class="menu">
                                        <div class="link">
                        <a href="https://olegkrivtsov.github.io/using-zend-framework-3-book/html">Home</a>
                    </div>
                                        <div class="link">
                        <a href="https://github.com/olegkrivtsov/using-zf3-book-samples">Samples</a>
                    </div>
                                        <div class="link">
                        <a href="https://olegkrivtsov.github.io/zf3-api-reference/html/">Class Reference</a>
                    </div>
                                        <div class="link">
                        <a href="https://github.com/olegkrivtsov/using-zend-framework-3-book">Contribute</a>
                    </div>
                    
                </div>
            </nav>
        </div>    
    </div>
</header>    
<div id="container">
<!-- Navigation -->
<div class="navigation">
    <div class="prev-chapter">
        
        <a href="../Operación_del_Sitio_Web/Administrador_de_Complementos.html">
            <img alt="Previous Chapter" src="../../assets/images/left.png"><span class="nav-btn-text">Previous</span>
        </a>
        </div>    
    <div class="contents">
        <a href="../toc.html">
            <img alt="Contents" src="../../assets/images/book.png"><span class="nav-btn-text">Contents</span>
        </a>
    </div>
    <div class="next-chapter">
                <a href="../Operación_del_Sitio_Web/Resumen.html">
            <span class="nav-btn-text">Next</span><img alt="Next Chapter" src="../../assets/images/right.png">
        </a>
            </div>
        <div class="current-chapter">
        <a href="../Operación_del_Sitio_Web.html">
            <img alt="Contents" src="../../assets/images/upload.png"><span class="nav-btn-text">Operación del Sitio Web</span>
        </a>
    </div>
    </div>

﻿<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Using Zend Framework 3 Book - Chapter - Adaptive -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3933778336056438"
     data-ad-slot="4531860323"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!-- Chapter content -->
<div id="chapter_content">
<div class="incomplete-translation">
    Translation into this language is not yet finished. You can help this project 
    by translating the chapters and contributing your changes.
</div>

<h2 id="Sobre_el_Administrador_de_Eventos">3.12. Sobre el Administrador de Eventos</h2>
<blockquote class="notquote tip" data-type="tip"><p> En esta sección daremos información avanzada sobre el administrador de eventos.
 Podemos saltar esta sección con relativa seguridad, sin embargo será necesario
 leerla si planeamos implementar algunos oyentes de eventos (event listeners) 
 avanzados en nuestro sitio web.</p>
</blockquote><p>Anteriormente en este capítulo hemos mencionado que el ciclo de vida de la aplicación
consiste en <em>eventos</em>. Una clase puede <em>lazar</em> un evento y otra clase puede <em>escuchar</em>
los eventos. Técnicamente, lanzar un evento significa con exactitud llamar a otro
método <em>callback</em> de una clase. El administrador de eventos se implementa dentro del
componente <code><a target="_blank" href="https://olegkrivtsov.github.io/zf3-api-reference/html/components/zendframework/zend-eventmanager.html" class="api-link">Zend\EventManager</a></code>.</p>
<blockquote class="notquote tip" data-type="tip"><p> ZF3 (y particularmente su componente <code><a target="_blank" href="https://olegkrivtsov.github.io/zf3-api-reference/html/components/zendframework/zend-mvc.html" class="api-link">Zend\Mvc</a></code>) depende de eventos para
 funcionar, como consecuencia su código es una combinación de oyentes de
 eventos que son algo difíciles de entender. Por fortuna, en la mayoría de los
 casos no necesitamos entender como ZF3 lanza y maneja eventos internamente, solo
 necesitamos entender lo que es un evento, que eventos están presentes en una
 aplicación y cual es la diferencia entre un <em>administrador de eventos</em> usual
 y un <em>administrador de eventos compartidos</em>.</p>
</blockquote><h3 id="Event_y_MvcEvent">3.12.1. Event y MvcEvent</h3>
<p>Un evento es técnicamente una instancia de la clase <code><a target="_blank" href="https://olegkrivtsov.github.io/zf3-api-reference/html/classes/Zend/EventManager/Event.html" class="api-link">Zend\EventManager\Event</a></code>. Un
evento puede en principio tener al menos las siguientes partes:</p>
<ul>
<li><em>name</em> - identifica unívocamente al evento;</li>
<li><em>target</em> - es típicamente un puntero al objeto que lanza el evento;</li>
<li>y <em>params</em> - argumentos específicos pasados a los oyentes de evento.</li>
</ul>
<p>Es posible crear tipos de eventos a la medida extendiendo a la clase <code><a target="_blank" href="https://olegkrivtsov.github.io/zf3-api-reference/html/classes/Zend/EventManager/Event.html" class="api-link">Event</a></code>.
Por ejemplo, el componente <code><a target="_blank" href="https://olegkrivtsov.github.io/zf3-api-reference/html/components/zendframework/zend-mvc.html" class="api-link">Zend\Mvc</a></code> define un tipo de evento a la medida llamado
<code><a target="_blank" href="https://olegkrivtsov.github.io/zf3-api-reference/html/classes/Zend/Mvc/MvcEvent.html" class="api-link">Zend\Mvc\MvcEvent</a></code> que extiende a la clase <code>Event</code> y agrega varias propiedades
y métodos necesarios para el funcionamiento de <code><a target="_blank" href="https://olegkrivtsov.github.io/zf3-api-reference/html/components/zendframework/zend-mvc.html" class="api-link">Zend\Mvc</a></code>.</p>
<h3 id="EventManager_y_SharedEventManager">3.12.2. EventManager y SharedEventManager</h3>
<p>Es importante entender la diferencia entre el <em>usual</em> administrador de eventos y el
administrador de eventos <em>compartido</em>.</p>
<p>El administrador de eventos usual no es guardado como un <em>singleton</em> en el administrador
de servicios. Cada vez que pedimos el servicio <code><a target="_blank" href="https://olegkrivtsov.github.io/zf3-api-reference/html/classes/Zend/EventManager/EventManager.html" class="api-link">EventManager</a></code> desde el administrador de
servicios recibimos una nueva instancia de él. Esto se hace por privacidad y
rendimiento:</p>
<ul>
<li><p>Se asume por defecto que la clase lanzadora de eventos pedirá y guardará en algún lugar
su propio administrador de eventos privado porque no se quiere que otras
clases escuchen automáticamente estos eventos. Los eventos lanzados por la clase se
consideran como pertenecientes a la clase privadamente.</p>
</li>
<li><p>Si alguien quisiera ser capaz de escuchar cualquier evento lanzado por alguna clase,
sería un infierno, demasiados oyentes de eventos serían invocados, incrementando
el tiempo de carga de la página. Es mejor evitar esto manteniendo eventos privados.</p>
</li>
</ul>
<p>Pero en caso de que alguien intencionalmente <em>necesite</em> escuchar a otro evento, existe
un administrador especial para eventos compartidos. El servicio <code><a target="_blank" href="https://olegkrivtsov.github.io/zf3-api-reference/html/classes/Zend/EventManager/SharedEventManager.html" class="api-link">SharedEventManager</a></code>
se guarda en el administrador de servicios como un <em>singleton</em>, de esta manera podemos
estar seguros de que todos tendrán la misma instancia de él.</p>
<p>Con el <code><a target="_blank" href="https://olegkrivtsov.github.io/zf3-api-reference/html/classes/Zend/EventManager/SharedEventManager.html" class="api-link">SharedEventManager</a></code> podemos fijar un oyente a un evento privado lanzado por
determinada clase (o varias clases). Para esto debemos especificar el o los identificadores
únicos de la clase que quieras escuchar. ¡Así de simple!</p>
<blockquote class="notquote tip" data-type="tip"><p> Algunos ejemplos prácticos de como escuchar y actuar frente a un evento se pueden
 encontrar en los capítulos <a  href="../Crear_un_nuevo_módulo.html">Crear un Nuevo módulo</a> y
 <a  href="../Manejo_de_usuarios__autenticación_y_filtrado_de_acceso.html">Administración de Usuarios, Autenticación y Filtro de Acceso</a>.</p>
</blockquote>        
</div>

<!-- Ads -->
<div id="ads-chapter-bottom">
<div>
﻿<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Using Zend Framework 3 Chapter - Bottom - Adaptive -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3933778336056438"
     data-ad-slot="1546211126"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
</div>
    
<!-- Navigation -->
<div class="navigation">
        <div class="current-chapter">
        <a href="../Operación_del_Sitio_Web.html">
            <img alt="Contents" src="../../assets/images/upload.png"><span class="nav-btn-text">Operación del Sitio Web</span>
        </a>
    </div>
        <div class="prev-chapter">
        
        <a href="../Operación_del_Sitio_Web/Administrador_de_Complementos.html">
            <img alt="Previous Chapter" src="../../assets/images/left.png"><span class="nav-btn-text">Previous</span>
        </a>
        </div>    
    <div class="contents">
        <a href="../toc.html">
            <img alt="Contents" src="../../assets/images/book.png"><span class="nav-btn-text">Contents</span>
        </a>
    </div>
    <div class="next-chapter">
                <a href="../Operación_del_Sitio_Web/Resumen.html">
            <span class="nav-btn-text">Next</span><img alt="Next Chapter" src="../../assets/images/right.png">
        </a>
            </div>        
</div>

<div id="disqus_thread"></div>

        
</div>
<footer>
    <div class="footer">
        <div class="footer-body">
            <div class="copyright">
                Copyright &copy; 2019 by Oleg Krivtsov            </div>
            <div class="footer-menu">
                                <div class="footer-link">
                    <a href="https://olegkrivtsov.github.io/using-zend-framework-3-book/legal/terms-and-conditions.html">Terms &amp; Conditions</a>
                </div>
                                <div class="footer-link">
                    <a href="https://olegkrivtsov.github.io/using-zend-framework-3-book/legal/copyright-policy.html">Copyright Policy</a>
                </div>
                                <div class="footer-link">
                    <a href="https://olegkrivtsov.github.io/using-zend-framework-3-book/legal/privacy-policy.html">Privacy Policy</a>
                </div>
                            </div>
            <div class="generated-by">
                Generated using <a href="https://github.com/olegkrivtsov/openbook">OpenBook</a>
            </div>
        </div>    
    </div>
</footer>

<a href="#0" class="cd-top">Top</a>

<script src="../../assets/js/jquery.min.js"></script>
<script src="../../assets/js/loadCSS.js"></script>
<script src="../../assets/js/popup.js"></script>

<script src="../../assets/js/prism.js"></script>

<script>
var disqus_config = function () {
this.page.url = window.location.href; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = ''; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//using-zend-framework-3-book.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
<script>
loadCSS("../../assets/css/prism.css");
</script>

<script>
jQuery(document).ready(function($){
    // browser window scroll (in pixels) after which the "back to top" link is shown
    var offset = 300,
    //browser window scroll (in pixels) after which the "back to top" link opacity is reduced
    offset_opacity = 1200,
    //duration of the top scrolling animation (in ms)
    scroll_top_duration = 700,
    //grab the "back to top" link
    $back_to_top = $('.cd-top');

    //hide or show the "back to top" link
    $(window).scroll(function(){
            ( $(this).scrollTop() > offset ) ? $back_to_top.addClass('cd-is-visible') : $back_to_top.removeClass('cd-is-visible cd-fade-out');
            if( $(this).scrollTop() > offset_opacity ) { 
                    $back_to_top.addClass('cd-fade-out');
            }
    });

    //smooth scroll to top
    $back_to_top.on('click', function(event){
            event.preventDefault();
            $('body,html').animate({
                    scrollTop: 0 ,
                    }, scroll_top_duration
            );
    });

});
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-80824388-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>    

