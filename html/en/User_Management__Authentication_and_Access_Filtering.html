<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="description" content="A free, read-frendly and open-source book on ZF3">
<meta name="keywords" content="zend framework,book,beginner,free">
<meta name="author" content="2018 by Oleg Krivtsov">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="../favicon.ico" rel="shortcut icon" type="image/ico" />
<link href="../assets/css/style.css" type="text/css" rel="stylesheet" />
<title>User Management, Authentication and Access Filtering &ndash; Using Zend Framework 3</title>
</head>
<body>
<header>
    <div class="header">
        <div class="header-body">
            <div class="book-title">
                <a href="../index.html">Using Zend Framework 3</a>
            </div>
            <div class="book-subtitle">
                A free, read-frendly and open-source book on ZF3            </div>
            <nav>
                <div class="menu">
                                        <div class="link">
                        <a href="https://olegkrivtsov.github.io/using-zend-framework-3-book/html">Home</a>
                    </div>
                                        <div class="link">
                        <a href="https://github.com/olegkrivtsov/using-zf3-book-samples">Samples</a>
                    </div>
                                        <div class="link">
                        <a href="https://olegkrivtsov.github.io/zf3-api-reference/html/">Class Reference</a>
                    </div>
                                        <div class="link">
                        <a href="https://github.com/olegkrivtsov/using-zend-framework-3-book">Contribute</a>
                    </div>
                    
                </div>
            </nav>
        </div>    
    </div>
</header>    
<div id="container">
<!-- Navigation -->
<div class="navigation">
    <div class="prev-chapter">
        
        <a href="Working_with_Sessions/Summary.html">
            <img alt="Previous Chapter" src="../assets/images/left.png"><span class="nav-btn-text">Previous</span>
        </a>
        </div>    
    <div class="contents">
        <a href="toc.html">
            <img alt="Contents" src="../assets/images/book.png"><span class="nav-btn-text">Contents</span>
        </a>
    </div>
    <div class="next-chapter">
                <a href="User_Management__Authentication_and_Access_Filtering/Get_User_Demo_Sample_from_GitHub.html">
            <span class="nav-btn-text">Next</span><img alt="Next Chapter" src="../assets/images/right.png">
        </a>
            </div>
    </div>

﻿<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Using Zend Framework 3 Book - Chapter - Adaptive -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3933778336056438"
     data-ad-slot="4531860323"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!-- Chapter content -->
<div id="chapter_content">

<h1 id="users">16. User Management, Authentication and Access Filtering</h1>
<p>Most websites on the Internet allow their visitors to register on the site and create a profile. After that, the
visitor can log in and have a personalized experience. For example, in a E-commerce 
website, a registered user can buy goods, manage their shopping cart and make a payment with a credit card. </p>
<p>In this chapter, you will learn how to implement user authentication with login and password in a ZF3 website.
We will show how to manage users (add, edit, view and change/reset password) in your web application and store users' passwords in the database 
securely. You will also learn how to implement an access filter and allow certain pages to be accessed by authenticated users only.</p>
<p>Since you already know a lot about ZF3 from reading previous chapters, in this chapter we will
omit discussing some obvious things and concentrate on <em>conceptual</em> moments only. It is recommended that you refer to
the <em>User Demo</em> sample bundle with this book, which is a complete website that you can run and see everything in action. 
All code discussed in this chapter is part of this sample application. </p>
<p>ZF3 components covered in this chapter:</p>
<div class="table-wrapper">
<table>
<thead>
<tr>
<th> <em>Component</em>                    </th>
<th> <em>Description</em>                                                 </th>
</tr>
</thead>
<tbody>
<tr>
<td>  <code><a target="_blank" href="https://olegkrivtsov.github.io/zf3-api-reference/html/components/zendframework/zend-authentication.html" class="api-link">Zend\Authentication</a></code>          </td>
<td>  Provides user authentication feature.                         </td>
</tr>
<tr>
<td> <code><a target="_blank" href="https://olegkrivtsov.github.io/zf3-api-reference/html/components/zendframework/zend-crypt.html" class="api-link">Zend\Crypt</a></code>                   </td>
<td> Provides functionality for password encryption.               </td>
</tr>
<tr>
<td> <code><a target="_blank" href="https://olegkrivtsov.github.io/zf3-api-reference/html/components/zendframework/zend-math.html" class="api-link">Zend\Math</a></code>                    </td>
<td> Provides functionality for generating secure random tokens.   </td>
</tr>
</tbody>
</table>
</div>
<p><ul>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Get_User_Demo_Sample_from_GitHub.html">16.1. Get User Demo Sample from GitHub</a>
</li>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Creating_the_User_Module.html">16.2. Creating the User Module</a>
</li>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Setting_Up_the_Database.html">16.3. Setting Up the Database</a>
</li>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Implementing_User_Entity.html">16.4. Implementing User Entity</a>
</li>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Adding_UserController.html">16.5. Adding UserController</a>
</li>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Adding_UserManager_Service.html">16.6. Adding UserManager Service</a>
<ul>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Adding_UserManager_Service.html#Creating_a_New_User__amp__Storing_Password_Encrypted">16.6.1. Creating a New User &amp; Storing Password Encrypted</a>
</li>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Adding_UserManager_Service.html#Validating_Encrypted_Password">16.6.2. Validating Encrypted Password</a>
</li>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Adding_UserManager_Service.html#Creating_Admin_User">16.6.3. Creating Admin User</a>
</li>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Adding_UserManager_Service.html#Resetting_User_Password">16.6.4. Resetting User Password</a>
</li>
</ul>
</li>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Implementing_User_Authentication.html">16.7. Implementing User Authentication</a>
<ul>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Implementing_User_Authentication.html#AuthenticationService">16.7.1. AuthenticationService</a>
</li>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Implementing_User_Authentication.html#Writing_Authentication_Adapter">16.7.2. Writing Authentication Adapter</a>
</li>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Implementing_User_Authentication.html#Creating_the_Factory_for_AuthenticationService">16.7.3. Creating the Factory for AuthenticationService</a>
</li>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Implementing_User_Authentication.html#Adding_AuthController">16.7.4. Adding AuthController</a>
</li>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Implementing_User_Authentication.html#Adding_View_Template_for_Login_Page">16.7.5. Adding View Template for Login Page</a>
</li>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Implementing_User_Authentication.html#Adding_AuthManager_Service">16.7.6. Adding AuthManager Service</a>
</li>
</ul>
</li>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Access_Filtering.html">16.8. Access Filtering</a>
<ul>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Access_Filtering.html#Adding_Dispatch_Event_Listener">16.8.1. Adding Dispatch Event Listener</a>
</li>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Access_Filtering.html#Implementing_Access_Filtering_Algorithm">16.8.2. Implementing Access Filtering Algorithm</a>
</li>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Access_Filtering.html#Testing_Access_Filter">16.8.3. Testing Access Filter</a>
</li>
</ul>
</li>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Identity_Controller_Plugin_and_View_Helper.html">16.9. Identity Controller Plugin and View Helper</a>
</li>
<li>
<a href="User_Management__Authentication_and_Access_Filtering/Summary.html">16.10. Summary</a>
</li>
</ul>
</p>
        
</div>

<!-- Ads -->
<div id="ads-chapter-bottom">
<div>
﻿<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Using Zend Framework 3 Chapter - Bottom - Adaptive -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3933778336056438"
     data-ad-slot="1546211126"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
</div>
    
<!-- Navigation -->
<div class="navigation">
        <div class="prev-chapter">
        
        <a href="Working_with_Sessions/Summary.html">
            <img alt="Previous Chapter" src="../assets/images/left.png"><span class="nav-btn-text">Previous</span>
        </a>
        </div>    
    <div class="contents">
        <a href="toc.html">
            <img alt="Contents" src="../assets/images/book.png"><span class="nav-btn-text">Contents</span>
        </a>
    </div>
    <div class="next-chapter">
                <a href="User_Management__Authentication_and_Access_Filtering/Get_User_Demo_Sample_from_GitHub.html">
            <span class="nav-btn-text">Next</span><img alt="Next Chapter" src="../assets/images/right.png">
        </a>
            </div>        
</div>

<div id="disqus_thread"></div>

        
</div>
<footer>
    <div class="footer">
        <div class="footer-body">
            <div class="copyright">
                Copyright &copy; 2018 by Oleg Krivtsov            </div>
            <div class="footer-menu">
                                <div class="footer-link">
                    <a href="https://olegkrivtsov.github.io/using-zend-framework-3-book/legal/terms-and-conditions.html">Terms &amp; Conditions</a>
                </div>
                                <div class="footer-link">
                    <a href="https://olegkrivtsov.github.io/using-zend-framework-3-book/legal/copyright-policy.html">Copyright Policy</a>
                </div>
                                <div class="footer-link">
                    <a href="https://olegkrivtsov.github.io/using-zend-framework-3-book/legal/privacy-policy.html">Privacy Policy</a>
                </div>
                            </div>
            <div class="generated-by">
                Generated using <a href="https://github.com/olegkrivtsov/openbook">OpenBook</a>
            </div>
        </div>    
    </div>
</footer>

<a href="#0" class="cd-top">Top</a>

<script src="../assets/js/jquery.min.js"></script>
<script src="../assets/js/loadCSS.js"></script>
<script src="../assets/js/popup.js"></script>

<script src="../assets/js/prism.js"></script>

<script>
var disqus_config = function () {
this.page.url = window.location.href; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = ''; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//using-zend-framework-3-book.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
<script>
loadCSS("../assets/css/prism.css");
</script>

<script>
jQuery(document).ready(function($){
    // browser window scroll (in pixels) after which the "back to top" link is shown
    var offset = 300,
    //browser window scroll (in pixels) after which the "back to top" link opacity is reduced
    offset_opacity = 1200,
    //duration of the top scrolling animation (in ms)
    scroll_top_duration = 700,
    //grab the "back to top" link
    $back_to_top = $('.cd-top');

    //hide or show the "back to top" link
    $(window).scroll(function(){
            ( $(this).scrollTop() > offset ) ? $back_to_top.addClass('cd-is-visible') : $back_to_top.removeClass('cd-is-visible cd-fade-out');
            if( $(this).scrollTop() > offset_opacity ) { 
                    $back_to_top.addClass('cd-fade-out');
            }
    });

    //smooth scroll to top
    $back_to_top.on('click', function(event){
            event.preventDefault();
            $('body,html').animate({
                    scrollTop: 0 ,
                    }, scroll_top_duration
            );
    });

});
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-80824388-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>    

